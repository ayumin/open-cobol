#
# atlocal gnucobol/tests
#
# Copyright (C) 2003,2004,2005,2006,2007 Keisuke Nishida
# Copyright (C) 2008-2012 Roger While
#
# This file is part of GNU Cobol.
#
# The GNU Cobol compiler is free software: you can redistribute it
# and/or modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation, either version 3 of the
# License, or (at your option) any later version.
#
# GNU Cobol is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with GNU Cobol.  If not, see <http://www.gnu.org/licenses/>.

# CC="gcc -std=gnu99"

COB_SRC_PATH="$(cd .. ; pwd)"
COB_WIN_BUILDPATH="$COB_SRC_PATH/build_windows/Win32/release"

COB_BIGENDIAN="no"
COB_HAS_ISAM="yes"
COBC="cobc"
COBCRUN="cobcrun"

TEMPLATE="$COB_SRC_PATH/tests/testsuite.src"

FLAGS="-std=cobol2002 -debug -Wall ${COBOL_FLAGS}"
COMPILE="${COBC} -x ${FLAGS}"
COMPILE_ONLY="${COBC} -fsyntax-only ${FLAGS}"
COMPILE_MODULE="${COBC} -m ${FLAGS}"

OBJECT_EXT="obj"

PATHSEP=";"

PATH="$COB_WIN_BUILDPATH:${PATH}"
export PATH

# unset all environmental vars that are used by libcob
for cobenv in $("$COBCRUN" --runtime-env | grep COB_ | cut -d: -f1); do unset $cobenv; done

export COB_CONFIG_DIR="$COB_SRC_PATH/config"
export COB_COPY_DIR="$COB_SRC_PATH/copy"
export COB_LIBRARY_PATH="$COB_WIN_BUILDPATH:$COB_LIBRARY_PATH"
export COB_UNIX_LF=YES
export COB_MSG_FORMAT=GCC
export COB_HAS_ISAM
export LC_ALL=C
